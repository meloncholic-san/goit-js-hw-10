{"mappings":"AAAO,MAAMA,EAAO,CAChBC,OAAQC,SAASC,cAAc,WAC/BC,MAAOF,SAASC,cAAc,UAC9BE,QAASH,SAASC,cAAc,aAChCG,WAAYJ,SAASC,cAAc,kBAOhC,SAASI,IACZP,EAAKC,OAAOO,UAAUC,IAAI,Y,CAIvB,SAASC,IACZV,EAAKI,MAAMI,UAAUG,OAAO,Y,CCfhC,MAEMC,EAAU,CACZC,QAAS,CACL,YAJQ,wEAKP,eAAgB,qBAiBlB,SAASC,EAAaC,GACzB,OAAOC,MAAM,wDAAwDD,IAAWH,GAC/EK,MAAKC,GAAYA,EAASC,SAC1BF,MAAKG,GAASA,IACdC,OAAMjB,IACHG,IACAG,IACAY,QAAQlB,MAAM,SAASA,EAAM,G,CC5BrC,MAAMmB,EAAO,CACTjB,WAAYN,EAAeM,YA8B/B,SAASkB,EAAqBJ,GAE1B,GADAb,KACKa,EAAQ,OACbE,QAAQG,IAAIL,GACZ,MAAMM,EAAcxB,SAASC,cAAc,aAE3C,GADAuB,EAAYC,UAAY,GACpBP,EAAO,CACP,MAAMQ,EAAYR,EAAM,GAClBS,EAAYD,EAAUE,OAAO,GAAGC,KAChCC,EAAmBJ,EAAUE,OAAO,GAAGG,YACvCC,EAAmBN,EAAUE,OAAO,GAAGK,YACvCC,EAAgBR,EAAUS,IAEhCX,EAAYC,UAAY,2BACRS,WAAuBP,6FAEHA,2DACMG,wFAC8BE,qC,CAI5EhC,SAASoC,KAAKC,YAAYb,E,CD5CpBV,MAAM,sCAAuCJ,GACnDK,MAAKC,GAAYA,EAASC,SAC1BF,MAAKG,IACLb,IACOa,KACNC,OAAMjB,IACHG,IACAG,IACAY,QAAQlB,MAAM,SAAeA,EAAM,ICZ1Ca,MAMD,SAA0BuB,GACtB,IAAKA,EAAO,OACZlB,QAAQG,IAAIe,GACZjB,EAAKjB,WAAWE,UAAUG,OAAO,aACjCY,EAAKjB,WAAWqB,UAAY,GAE5Ba,EAAMC,SAAQrB,IACV,MAAMsB,EAASxC,SAASyC,cAAc,UACtCD,EAAOE,MAAQxB,EAAMyB,GACrBH,EAAOI,YAAc1B,EAAMW,KAC3BR,EAAKjB,WAAWiC,YAAYG,EAAO,G,IAb3CnB,EAAKjB,WAAWyC,iBAAiB,UAiBjC,SAA8BC,GAC1B,MAAMjC,EAAUiC,EAAMC,OAAOL,MFtB7B5C,EAAKC,OAAOO,UAAUG,OAAO,aAC7BX,EAAKK,QAAQsB,UAAY,GEuBzBb,EAAaC,GAASE,KAAKO,E","sources":["src/loader_api.js","src/cat_api.js","src/index.js"],"sourcesContent":["export const refs = {\n    loader: document.querySelector('.loader'),\n    error: document.querySelector('.error'),\n    catInfo: document.querySelector('.cat-info'),\n    selectForm: document.querySelector(\".breed-select\"),\n};\nexport function showLoader() {\n    refs.loader.classList.remove('is-hidden');\n    refs.catInfo.innerHTML = \"\";\n}\n\nexport function hideLoader() {\n    refs.loader.classList.add('is-hidden');\n}\n\n\nexport function showError(){\n    refs.error.classList.remove('is-hidden');\n}\n\nexport function hideError(){\n    refs.error.classList.add('is-hidden');\n}","import * as loaderApi from './loader_api';\n\nconst API_KEY = \"live_0xrShKUsUIiYR3hwGrRYioFcDOmITFhMRPAoiGSOadEd75QhJccceDDwybmU6XCN\";\n\nconst options = {\n    headers: {\n        'x-api-key': API_KEY,  \n         'Content-Type': 'application/json'\n    }\n}\n\nexport function fetchBreeds() {\n   return fetch('https://api.thecatapi.com/v1/breeds', options)\n   .then(response => response.json())\n   .then(breed => {\n    loaderApi.hideLoader();\n    return breed})\n    .catch(error => {\n        loaderApi.hideLoader();\n        loaderApi.showError();\n        console.error(\"Ошибка\",error);\n       });\n};\n\nexport function fetchCatByID(breedId){\n    return fetch(`https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`, options)\n    .then(response => response.json())\n    .then(breed => breed)\n    .catch(error => {\n        loaderApi.hideLoader();\n        loaderApi.showError();\n        console.error(\"Ошибка\",error);\n       });\n}\n\n","import { fetchBreeds, fetchCatByID } from \"./cat_api\";\nimport * as loaderApi from './loader_api';\n\nconst refs = {\n    selectForm: loaderApi.refs.selectForm,\n};\n\nfetchBreeds()\n.then(displayAllBreeds)\n\n\nrefs.selectForm.addEventListener('change', selectedBreedHandler)\n\n\nfunction displayAllBreeds(breed){\n    if (!breed) return;\n    console.log(breed);\n    refs.selectForm.classList.remove('is-hidden');\n    refs.selectForm.innerHTML = \"\";\n\n    breed.forEach(breed => {\n        const option = document.createElement(\"option\");\n        option.value = breed.id;\n        option.textContent = breed.name;\n        refs.selectForm.appendChild(option);\n    });\n}\n\nfunction selectedBreedHandler(event){\n    const breedId = event.target.value;\n    loaderApi.showLoader();\n    fetchCatByID(breedId).then(displaySelectedBreed)\n}\n\nfunction displaySelectedBreed(breed) {\n    loaderApi.hideLoader();\n    if (!breed)  return;\n    console.log(breed); \n    const breedMarkUp = document.querySelector(\".cat-info\")\n    breedMarkUp.innerHTML = ''; \n    if (breed) {\n        const breedData = breed[0]; \n        const breedName = breedData.breeds[0].name; \n        const breedDescription = breedData.breeds[0].description;\n        const breedTemperament = breedData.breeds[0].temperament;\n        const breedImageUrl = breedData.url; \n\n        breedMarkUp.innerHTML = `\n            <img src=\"${breedImageUrl}\" alt=\"${breedName}\" />\n            <div class=\"cat-info-text\">\n                <h2 class=\"cat-info-name\">${breedName}</h2>\n                <p class=\"cat-info-description\">${breedDescription}</p>\n                <p class=\"cat-info-temperament\"><strong>Temperament: </strong>${breedTemperament}</p>\n            </div>\n        `;\n    } \n    document.body.appendChild(breedMarkUp);\n}"],"names":["$e1a43d281b7bac34$export$21666b427502ea6d","loader","document","querySelector","error","catInfo","selectForm","$e1a43d281b7bac34$export$5cee2c2772922923","classList","add","$e1a43d281b7bac34$export$3879b24e8245693d","remove","$4d7b1d6d465138ae$var$options","headers","$4d7b1d6d465138ae$export$9d254dd8ea770a05","breedId","fetch","then","response","json","breed","catch","console","$1f0dc3b9307be026$var$refs","$1f0dc3b9307be026$var$displaySelectedBreed","log","breedMarkUp","innerHTML","breedData","breedName","breeds","name","breedDescription","description","breedTemperament","temperament","breedImageUrl","url","body","appendChild","breed1","forEach","option","createElement","value","id","textContent","addEventListener","event","target"],"version":3,"file":"index.17b95c6c.js.map"}